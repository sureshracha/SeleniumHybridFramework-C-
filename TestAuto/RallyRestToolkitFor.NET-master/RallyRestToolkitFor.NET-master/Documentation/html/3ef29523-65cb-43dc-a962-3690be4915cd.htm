<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="../icons/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="../styles/branding.css" />
    <link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" />
    <script type="text/javascript" src="../scripts/branding.js"> </script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Rally.RestApi Namespace</title>
    <meta name="Language" content="en-us" />
    <meta name="System.Keywords" content="Rally.RestApi namespace" />
    <meta name="Microsoft.Help.F1" content="Rally.RestApi" />
    <meta name="Microsoft.Help.Id" content="N:Rally.RestApi" />
    <meta name="Description" content="This is the primary namespace for the Rally Rest API for DotNet.Introduction The Rally REST API for .NET provides an intuitive interface to your Rally Data. It supports querying items in addition to individual item creates, reads, updates and deletes." />
    <meta name="Microsoft.Help.ContentType" content="Reference" />
    <meta name="BrandingAware" content="true" />
    
    <meta name="container" content="Rally.RestApi" />
    <meta name="file" content="3ef29523-65cb-43dc-a962-3690be4915cd" />
    <meta name="guid" content="3ef29523-65cb-43dc-a962-3690be4915cd" />
    
    <link type="text/css" rel="stylesheet" href="../styles/highlight.css" />
    <script type="text/javascript" src="../scripts/highlight.js"> </script>
    <link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" />
    <script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../scripts/branding-Website.js"></script>
  </head>
  <body onload="OnLoad('cs')">
    <input type="hidden" id="userDataCache" class="userDataStyle" />
    <div class="pageHeader" id="PageHeader">Rally Rest API for .Net<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div>
    <div class="pageBody">
      <div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="3ef29523-65cb-43dc-a962-3690be4915cd.htm" title="Rally Rest API for .Net" tocid="roottoc">Rally Rest API for .Net</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="3ef29523-65cb-43dc-a962-3690be4915cd.htm" title="Rally.RestApi" tocid="3ef29523-65cb-43dc-a962-3690be4915cd">Rally.RestApi</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="52a2bd79-cffd-aa28-9041-e12f1bbd0f43.htm" title="Query Class" tocid="52a2bd79-cffd-aa28-9041-e12f1bbd0f43">Query Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="d4b0caa1-c53a-ee86-5d0b-e4065ca4e9fb.htm" title="Query.Operator Enumeration" tocid="d4b0caa1-c53a-ee86-5d0b-e4065ca4e9fb">Query.Operator Enumeration</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="a256a81e-6dba-bafb-e2df-d1adbe1a36d2.htm" title="RallyRestApi Class" tocid="a256a81e-6dba-bafb-e2df-d1adbe1a36d2">RallyRestApi Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="3f54a5bb-34de-873c-5a9c-f4df152393c3.htm" title="RallyRestApi.AuthenticationResult Enumeration" tocid="3f54a5bb-34de-873c-5a9c-f4df152393c3">RallyRestApi.AuthenticationResult Enumeration</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="df62da3c-3996-99b0-84ea-55364452efe4.htm" title="RallyRestApi.HeaderType Enumeration" tocid="df62da3c-3996-99b0-84ea-55364452efe4">RallyRestApi.HeaderType Enumeration</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="284dcd68-287a-f2e9-4fc4-438e428b55f8.htm" title="Ref Class" tocid="284dcd68-287a-f2e9-4fc4-438e428b55f8">Ref Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="75313c54-2f8a-0603-703b-3632c09a4bc3.htm" title="Request Class" tocid="75313c54-2f8a-0603-703b-3632c09a4bc3">Request Class</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent">
        <table class="titleTable">
          <tr>
            <td class="titleColumn">Rally.RestApi Namespace</td>
          </tr>
        </table>
        <span class="introStyle"></span>
        <div class="summary">
          <p>This is the primary namespace for the Rally Rest API for DotNet.</p>
          <h3>Introduction</h3>
The Rally REST API for .NET provides an intuitive interface to your Rally Data. It supports querying items in addition to individual item creates, reads, updates and deletes. It is compatible with any .NET 4.0 language (C#, VB.NET, F#, etc.)

<h3>Adding the API to your Solution</h3>
Add a reference to the Rally.RestApi.dll library or libraries from a new or existing project. Your project must have a Project Target Framework of .NET Framework 4 or higher.

<table width="550"><tr><th>Library</th><th>Required</th><th>Used For</th></tr><tr><td>Rally.RestApi.dll</td><td>Yes</td><td>Communication with Rally</td></tr><tr><td>Rally.RestApi.UiForWinforms.dll</td><td>No</td><td>Provides a UI for Winforms applications</td></tr><tr><td>Rally.RestApi.UiForWpf.dll</td><td>No</td><td>Provides a UI for WPF applications<br />
Can be used by Winforms applications that need IDP based SSO
</td></tr></table><h3>Sample Usage</h3><p>This sample code snippet shows how the Rally Rest API can be used by a console application:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAIABA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAIABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EAIABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAIABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">string</span> username = <span class="highlight-literal">"paul@acme.com"</span>;
<span class="highlight-keyword">string</span> password = <span class="highlight-literal">"Just4Rally"</span>;
<span class="highlight-keyword">string</span> serverUrl = <span class="highlight-literal">"https://preview.rallydev.com"</span>;

<span class="highlight-comment">// Initialize the REST API. You can specify a web service version if needed in the constructor.</span>
RallyRestApi restApi = <span class="highlight-keyword">new</span> RallyRestApi();
restApi.Authenticate(username, password, serverUrl, proxy: <span class="highlight-keyword">null</span>, allowSSO: <span class="highlight-keyword">false</span>);

<span class="highlight-comment">//Create an item</span>
DynamicJsonObject toCreate = <span class="highlight-keyword">new</span> DynamicJsonObject();
toCreate[<span class="highlight-literal">"Name"</span>] = <span class="highlight-literal">"My Defect"</span>;
CreateResult createResult = restApi.Create(<span class="highlight-literal">"defect"</span>, toCreate);

<span class="highlight-comment">//Update the item</span>
DynamicJsonObject toUpdate = <span class="highlight-keyword">new</span> DynamicJsonObject();
toUpdate[<span class="highlight-literal">"Description"</span>] = <span class="highlight-literal">"This is my defect."</span>;
OperationResult updateResult = restApi.Update(createResult.Reference, toUpdate);

<span class="highlight-comment">//Get the item</span>
DynamicJsonObject item = restApi.GetByReference(createResult.Reference);

<span class="highlight-comment">//Query for items</span>
Request request = <span class="highlight-keyword">new</span> Request(<span class="highlight-literal">"defect"</span>);
request.Fetch = <span class="highlight-keyword">new</span> List&lt;<span class="highlight-keyword">string</span>&gt;() { <span class="highlight-literal">"Name"</span>, <span class="highlight-literal">"Description"</span>, <span class="highlight-literal">"FormattedID"</span> };
request.Query = <span class="highlight-keyword">new</span> Query(<span class="highlight-literal">"Name"</span>, Query.Operator.Equals, <span class="highlight-literal">"My Defect"</span>);
QueryResult queryResult = restApi.Query(request);
<span class="highlight-keyword">foreach</span> (<span class="highlight-keyword">var</span> result <span class="highlight-keyword">in</span> queryResult.Results)
{
  <span class="highlight-comment">//Process item as needed</span>
}

<span class="highlight-comment">//Delete the item</span>
OperationResult deleteResult = restApi.Delete(createResult.Reference);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAIABA");</script><h3>Logging</h3>
The Rally REST API for .NET provides the ability to log all requests and responses to aid in troubleshooting.

To enable this behavior simply configure one or more trace listeners at the Information level.

Below is an example App.config which will enable this:
<div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAFABA_tab1" class="codeSnippetContainerTabSingle">Example App.config</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAFABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EAFABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAFABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;?</span><span class="highlight-xml-tag">xml</span> <span class="highlight-xml-attribute-name">version</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"1.0"</span> <span class="highlight-xml-attribute-name">encoding</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"utf-8"</span> <span class="highlight-xml-bracket">?&gt;</span>
<span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">configuration</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">system.diagnostics</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">trace</span> <span class="highlight-xml-attribute-name">autoflush</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">indentsize</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"2"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">listeners</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">add</span> <span class="highlight-xml-attribute-name">name</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"RallyRestApiUiSample"</span> <span class="highlight-xml-attribute-name">type</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"System.Diagnostics.TextWriterTraceListener
          initializeData="</span><span class="highlight-xml-attribute-name">RallyRestApiUiSample.log</span><span class="highlight-xml-attribute-value">" /&gt;
        &lt;remove name="</span><span class="highlight-xml-attribute-name">Default</span><span class="highlight-xml-attribute-value">listeners</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">trace</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">system.diagnostics</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">configuration</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAFABA");</script><h3>Upgrading from Rally Rest API 2.x</h3><p>If you are upgrading from the 2.x series of the Rally Rest API for DotNet, the following major changes are known:</p><ul><li />Reorganization of Namespaces - Moved many classes into sub-namespaces for better organization of code
<li />Changes to Visibility - Many classes and methods had their visibility changed to make it easier to find the methods that a user should be calling, instead of internal helper functions.
<li />Authenication sequence - Constructor no longer performs authentication
<li />Reusable UI Layer - We added components for standardized login windows throughout all applications using the toolkit, including support for SSO
<li />Exceptions - We added custom exceptions for Rally being unavailable (returning HTML error page), or JSON data being unable to be deserialized.
<li />Code Comments - We greatly expanded on the code header comments that generate this help documentation.
</ul><p>This example shows the changes to authentication for a console application. For UI based applications, please see the documentation for the Rally.RestApi.UiForWpf Namespace for extended examples.</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EAAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">// Old authentication in constructor</span>
RallyRestApi restApi = <span class="highlight-keyword">new</span> RallyRestApi(<span class="highlight-literal">"user@sandbox.com"</span>, <span class="highlight-literal">"secret"</span>, <span class="highlight-literal">"https://sandbox.rallydev.com"</span>, <span class="highlight-literal">"v2.0"</span>);

<span class="highlight-comment">// New authentication method</span>
RallyRestApi restApi = <span class="highlight-keyword">new</span> RallyRestApi(webServiceVersion: <span class="highlight-literal">"v2.0"</span>);
restApi.Authenticate(<span class="highlight-literal">"user@sandbox.com"</span>, <span class="highlight-literal">"secret"</span>, <span class="highlight-literal">"https://sandbox.rallydev.com"</span>, allowSSO: <span class="highlight-keyword">false</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABA");</script></div>
        <div class="collapsibleAreaRegion">
          <span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0">
            <img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Classes</span>
        </div>
        <div id="ID1RBSection" class="collapsibleSection">
          <table id="typeList" class="members">
            <tr>
              <th class="iconColumn">
					 
				</th>
              <th>Class</th>
              <th>Description</th>
            </tr>
            <tr data="class; public">
              <td>
                <img src="../icons/pubclass.gif" alt="Public class" title="Public class" />
              </td>
              <td>
                <a href="52a2bd79-cffd-aa28-9041-e12f1bbd0f43.htm">Query</a>
              </td>
              <td>
                <div class="summary">
            This class represents a filter
            for query operations.
            </div>
              </td>
            </tr>
            <tr data="class; public">
              <td>
                <img src="../icons/pubclass.gif" alt="Public class" title="Public class" />
              </td>
              <td>
                <a href="a256a81e-6dba-bafb-e2df-d1adbe1a36d2.htm">RallyRestApi</a>
              </td>
              <td>
                <div class="summary">
            The main interface to the Rally REST API
            </div>
              </td>
            </tr>
            <tr data="class; public">
              <td>
                <img src="../icons/pubclass.gif" alt="Public class" title="Public class" />
              </td>
              <td>
                <a href="284dcd68-287a-f2e9-4fc4-438e428b55f8.htm">Ref</a>
              </td>
              <td>
                <div class="summary">
            The Ref class contains a set of utility methods
            for working with refs.
            </div>
              </td>
            </tr>
            <tr data="class; public">
              <td>
                <img src="../icons/pubclass.gif" alt="Public class" title="Public class" />
              </td>
              <td>
                <a href="75313c54-2f8a-0603-703b-3632c09a4bc3.htm">Request</a>
              </td>
              <td>
                <div class="summary">
            Represents a request to be sent to Rally
            </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="collapsibleAreaRegion">
          <span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0">
            <img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Enumerations</span>
        </div>
        <div id="ID2RBSection" class="collapsibleSection">
          <table id="typeList" class="members">
            <tr>
              <th class="iconColumn">
					 
				</th>
              <th>Enumeration</th>
              <th>Description</th>
            </tr>
            <tr data="enumeration; public">
              <td>
                <img src="../icons/pubenumeration.gif" alt="Public enumeration" title="Public enumeration" />
              </td>
              <td>
                <a href="d4b0caa1-c53a-ee86-5d0b-e4065ca4e9fb.htm">Query<span id="LSTDA739136_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTDA739136_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Operator</a>
              </td>
              <td>
                <div class="summary">
            The available query operators
            </div>
              </td>
            </tr>
            <tr data="enumeration; public">
              <td>
                <img src="../icons/pubenumeration.gif" alt="Public enumeration" title="Public enumeration" />
              </td>
              <td>
                <a href="3f54a5bb-34de-873c-5a9c-f4df152393c3.htm">RallyRestApi<span id="LSTDA739136_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTDA739136_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>AuthenticationResult</a>
              </td>
              <td>
                <div class="summary">
            Enumeration of the different authentication results that may occur.
            </div>
              </td>
            </tr>
            <tr data="enumeration; public">
              <td>
                <img src="../icons/pubenumeration.gif" alt="Public enumeration" title="Public enumeration" />
              </td>
              <td>
                <a href="df62da3c-3996-99b0-84ea-55364452efe4.htm">RallyRestApi<span id="LSTDA739136_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTDA739136_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>HeaderType</a>
              </td>
              <td>
                <div class="summary">
            Enumeration of the valid HTTP headers that
            may be passed on REST requests
            </div>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div id="pageFooter" class="pageFooter">
      <div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:support%40rallydev.com?Subject=Rally Rest API for .Net">support@rallydev.com</a></div>
      <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> </div>
  </body>
<script type="text/javascript">
<!--
    var tocNav = document.getElementById("tocNav");
    var anchor = tocNav.children[0].children[0];
    Toggle(anchor);
    tocNav.children[0].className += " current";
-->
</script>
</html>